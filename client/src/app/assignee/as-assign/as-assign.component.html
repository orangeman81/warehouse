<main class="container">
  <section>
    <header>
      <span>
        <h1>{{details.name}} {{details.surname}}</h1>
        <p>Assingee Details</p>
      </span>
      <nav class="actions">
        <a [routerLink]="['/assignee']">
          <i class="material-icons tile-icon">arrow_back</i>
        </a>
        <a>
          <i class="material-icons tile-icon" (click)="toggleUpdate()">{{toggleIcon}}</i>
        </a>
      </nav>
    </header>
    <hr>
    <wh-list>
      <li>
        <h3>Email</h3>
        <p>{{details.email}}</p>
      </li>
      <li>
        <h3>Phone</h3>
        <p>{{details.phone}}</p>
      </li>
      <li>
        <h3>Role</h3>
        <p>{{details.role}}</p>
      </li>
    </wh-list>
  </section>
  <section class="mt-56">
    <header>
      <span>
        <h2>Product to assign</h2>
        <p>select a product to assign</p>
      </span>
    </header>
    <wh-search-bar (sendQuery)="loadSearch($event)"></wh-search-bar>
    <wh-list>
      <li *ngFor="let prod of products | async">
        <span>
          <h3>{{prod.name}}</h3>
          <p>Serial:&ensp;{{prod.serial}}</p>
        </span>
        <span class="actions">
          <button (click)="openDialog(prod)">assign</button>
        </span>
      </li>
    </wh-list>
    <wh-paginator [length]="prodLength" [size]="10" (data)="loadProducts($event.pageIndex)"></wh-paginator>
  </section>
</main>
<wh-dialog *ngIf="dialog">
  <span>
    <h3>Product assignment</h3>
    <p>{{dialogPayload.name}}</p>
    <p>{{dialogPayload.serial}}</p>
  </span>
  <span class="actions">
    <button (click)="assign()">assign</button>
    <button (click)="dialog = false">cancel</button>
  </span>
</wh-dialog>